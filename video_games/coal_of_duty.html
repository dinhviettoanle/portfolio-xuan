<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
        <link rel="stylesheet" href="../css/style.css">

        <link rel="icon" href="../imgs/icon.png"/>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="https://kit.fontawesome.com/e187f86b13.js" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
        <script src="../javascript/scripts.js"></script>

        <style>
            #game_box, #game_load {
                height: 630px; 
                width: 1100px; 
                background-color: rgb(30, 19, 49); 
                margin: 0 auto; 
                display: flex; 
                justify-content: center; 
                align-items: center;
                cursor: pointer;
                
            }

            #game_box > img {
                transition: .5s;
            }

            #game_box:hover > img {
                transform-origin: center;
                transition: .5s;
                transform: scale(1.15);
            }
        </style>

        <script src="coal_of_duty/Build/UnityLoader.js"></script>

        <script>
            var is_loaded = false;
        </script>

        <title> Coal of Duty | Xuan LE </title>

    </head>

    <body>

        <img id="image_background" src="../imgs/background_img.png">
        
        <div class="content">
            <div class="row align-items-center ml-3" id="head">
                <div class="col-md-5 col-lg-4 col-12 text-md-left text-center" id="title">
                    <h2 class="title_link"><a href="./video_games.html">VIDEO GAMES</a></h2>
                </div>
                <div class="col-md-6 col-lg-8 col-12 text-md-left text-center" id="menu">
                    <a href="../index.html" class="menu_item">home</a><span class="d-md-none d-inline"><br></span>
                    <a href="../animation/animation.html" class="menu_item">animation</a><span class="d-lg-none d-inline"><br></span>
                    <a href="../digital_art/digital_art.html" class="menu_item">digital art</a><span class="d-md-none d-inline"><br></span>
                    <a href="../watercolor/watercolor.html" class="menu_item">watercolor</a><span class="d-md-none d-inline"><br></span>
                    <a href="../about.html" class="menu_item">about</a>
                </div>
            </div>

            <div class="row ml-3 mt-3 justify-content-center">
                <div class="col-5">
                    <h2 class="ml-3 mt-3" style="text-shadow: black 1px 0 20px;">Coal of Duty</h2>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque et lectus leo. 
                    Maecenas augue quam, luctus sed sodales vitae, fermentum eu ante. Nullam mattis diam quis ipsum dignissim, sit amet ornare lorem rhoncus. 
                    Suspendisse dictum scelerisque ligula in imperdiet. Pellentesque a varius ligula. Etiam magna enim, commodo in commodo eu, tempus nec lacus. 
                    Nulla commodo viverra ex aliquet facilisis. Ut massa augue, ultricies vitae dolor in, bibendum facilisis orci. Vivamus accumsan mi sagittis hendrerit bibendum. 
                    Nullam bibendum erat non elit lacinia suscipit. Morbi sed vestibulum quam.
                </div>
                <div class="col-5">
                    <a class="a-fancybox" data-fancybox="gallery" href="imgs/coal_of_duty.png" title="" caption="">
                        <img src="imgs_compressed/coal_of_duty-min.jpg" class="img-hover" style="height:50vh">
                    </a>
                </div>
            </div>

            <div class="ml-3 mt-3">
                <h3 class="ml-5 mt-3" style="text-shadow: black 1px 0 20px;">Artworks</h3>
                <div class="row justify-content-center" id="presentation">

                    <div class="hover-img-box">
                        <a class="a-fancybox" data-fancybox="gallery" href="imgs/cod_char_walk3.png" title="Title" caption="Description">
                            <img src="imgs_compressed/cod_char_walk3-min.jpg" class="img-hover" style="height:50vh" style="background-color: black;">
                            <div class="mask">
                                <span class="text-title">Title<br></span>
                                <span class="text-description"><p>Description</p></span>
                            </div>
                        </a>
                    </div>

                    <div class="hover-img-box">
                        <a class="a-fancybox" data-fancybox="gallery" href="imgs/cod_character_design.png" title="Title" caption="Description">
                            <img src="imgs_compressed/cod_character_design-min.jpg" class="img-hover" style="height:50vh">
                            <div class="mask">
                                <span class="text-title">Title<br></span>
                                <span class="text-description"><p>Description</p></span>
                            </div>
                        </a>
                    </div>

                    <div class="hover-img-box">
                        <a class="a-fancybox" data-fancybox="gallery" href="imgs/cod_recherche_props.png" title="Title" caption="Description">
                            <img src="imgs_compressed/cod_recherche_props-min.jpg" class="img-hover" style="height:50vh">
                            <div class="mask">
                                <span class="text-title">Title<br></span>
                                <span class="text-description"><p>Description</p></span>
                            </div>
                        </a>
                    </div>

                    <div class="hover-img-box">
                        <a class="a-fancybox" data-fancybox="gallery" href="imgs/cod_splash_screen.png" title="Title" caption="Description">
                            <img src="imgs_compressed/cod_splash_screen-min.jpg" class="img-hover" style="height:50vh">
                            <div class="mask">
                                <span class="text-title">Title<br></span>
                                <span class="text-description"><p>Description</p></span>
                            </div>
                        </a>
                    </div>

                    <div class="hover-img-box">
                        <a class="a-fancybox" data-fancybox="gallery" href="imgs/cod_sprite_sheet_punch.png" title="Title" caption="Description">
                            <img src="imgs_compressed/cod_sprite_sheet_punch-min.jpg" class="img-hover" style="height:50vh">
                            <div class="mask">
                                <span class="text-title">Title<br></span>
                                <span class="text-description"><p>Description</p></span>
                            </div>
                        </a>
                    </div>
                </div>

                

                <div class="ml-3 mt-3">
                    <h3 class="ml-5 mt-3" style="text-shadow: black 1px 0 20px;">Play the game</h3>
                    <div class="row justify-content-center" id="presentation">
                        <div id="game_interactive" style="text-align:center;width:100%;">
                            <div id="game_box">
                                <img src="imgs/play.svg" width="30%" height="30%">
                            </div>
                        </div>
                    </div>
                </div>



                <script>
                    document.getElementById("game_box").addEventListener("click", function(){
                        // document.getElementById("game_interactive").innerHTML = '<iframe src="./coal_of_duty/index.html" width="1100px" height="630px" frameBorder="0"></iframe>';
                        document.getElementById("game_interactive").innerHTML = '<div id="game_load"><div id="unityContainer" style="width: 1066px; height: 600px;"></div></div>';
                        UnityLoader.instantiate("unityContainer", "coal_of_duty/Build/Coal Of Duty - Web.json");

                        document.getElementById("game_load").addEventListener("DOMSubtreeModified", function(){
                            unloadGame();
                        });

                        function unloadGame(){
                            var n_children = document.getElementById('unityContainer').children.length;
                            
                            if(n_children == 3 && !is_loaded) { 
                                is_loaded = true;
                            }

                            if(n_children == 2 && is_loaded) {
                                document.getElementById("game_interactive").innerHTML = '<div id="game_box"><img src="imgs/play.svg" width="30%" height="30%"></div>';
                            }
                        }
                    });  
                </script>
            </div>



        </div>

    </body>

</html>